<div id="contenedor-filtros">
    <button id="toggle-filtros" onclick="toggleFiltros()">Mostrar filtros üîç</button>
    <div id="filtros-wrapper">

<div class="filtros-container">
    <form action="/" method="GET" class="filtro-form">
        <div class="filtro-group">
            
            <span class="filtro-label">Fecha:</span>
            <input type="date" id="fecha" name="fecha" class="filtro-date"
                value="{{ request.args.get('fecha', '') }}">            
            
            <span class="filtro-label">Palabra:</span>
            <input type="text" id="texto" name="texto" placeholder="Ej: HUMANO, decreto"
                class="filtro-text" value="{{ request.args.get('texto', '') }}">

            <span class="filtro-label">Categor√≠a:</span>
            <div class="categoria-wrapper">
                <input type="text" id="categoria" name="categoria" placeholder="Filtrar por categor√≠a"
                    class="filtro-category" value="{{ request.args.get('categoria', '') }}" autocomplete="off">
                <div id="sugerencias" class="dropdown-sugerencias"></div>
            </div>
            
            <button type="submit" class="filtro-btn filtro-submit" title="Aplicar filtro">
                <svg viewBox="0 0 20 20" fill="currentColor" class="filtro-svg">
                    <path fill-rule="evenodd"
                        d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z"
                        clip-rule="evenodd" />
                </svg>
            </button>
            
            {% if request.args.get('fecha') or request.args.get('categoria') or request.args.get('texto') %}
            <a href="{{ url_for('index') }}" class="filtro-btn filtro-clear" title="Limpiar filtro">
                <svg viewBox="0 0 20 20" fill="currentColor" class="filtro-svg">
                    <path fill-rule="evenodd"
                        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                        clip-rule="evenodd" />
                </svg>
            </a>
            {% endif %}
        </div>
    </form>
</div>

</div>
</div>

<style>
    #toggle-filtros {
        display: none;
        margin: 0 auto;
        padding: 0.6rem 1rem;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        font-weight: 600;
        cursor: pointer;
        width: fit-content;
        text-decoration: auto;
    }
    
    #filtros-wrapper {
        display: block;
    }
    
    /* En m√≥viles, ocultamos los filtros por defecto */
    @media (max-width: 768px) {
        #toggle-filtros {
            display: block;
        }
    
        #filtros-wrapper {
            display: none;
            margin-top: 0.5rem;
            padding: 0.5rem 0;
            border-top: 1px solid #ddd;
        }
    
        #filtros-wrapper.mostrar {
            display: block;
        }
    }
    </style>

<script>
    function toggleFiltros() {
        const filtros = document.getElementById('filtros-wrapper');
        const btn = document.getElementById('toggle-filtros');
        const visible = filtros.classList.toggle('mostrar');
    
        btn.textContent = visible ? 'Ocultar filtros ‚úñÔ∏è' : 'Mostrar filtros üîç';
    }
    </script>